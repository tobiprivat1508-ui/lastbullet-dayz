---
import Button from './ui/Button.astro';
import HeroServerStatus from './HeroServerStatus.tsx';
---

<section class="relative min-h-screen flex items-center justify-center overflow-hidden">
  <!-- Background: placeholder gradient (replace /images/hero-bg.webp later) -->
  <div class="absolute inset-0 bg-primary">
    <!-- Atmospheric gradient -->
    <div class="absolute inset-0 bg-[radial-gradient(ellipse_80%_60%_at_50%_40%,_rgba(232,121,29,0.12)_0%,_transparent_60%)]" />
    <!-- Noise texture overlay -->
    <div class="absolute inset-0 opacity-[0.03]" style="background-image: url('data:image/svg+xml,%3Csvg viewBox=%220 0 256 256%22 xmlns=%22http://www.w3.org/2000/svg%22%3E%3Cfilter id=%22noise%22%3E%3CfeTurbulence type=%22fractalNoise%22 baseFrequency=%220.9%22 numOctaves=%224%22 stitchTiles=%22stitch%22/%3E%3C/filter%3E%3Crect width=%22100%25%22 height=%22100%25%22 filter=%22url(%23noise)%22/%3E%3C/svg%3E');" />
    <!-- Vignette -->
    <div class="absolute inset-0 bg-[radial-gradient(ellipse_at_center,_transparent_40%,_rgba(0,0,0,0.7)_100%)]" />
    <!-- Scan lines -->
    <div class="absolute inset-0 opacity-[0.04] bg-[repeating-linear-gradient(0deg,transparent,transparent_2px,rgba(255,255,255,0.03)_2px,rgba(255,255,255,0.03)_4px)]" />
  </div>

  <!-- Floating dust particles -->
  <div class="absolute inset-0 z-[1]" aria-hidden="true">
    <div class="dust dust-1" />
    <div class="dust dust-2" />
    <div class="dust dust-3" />
    <div class="dust dust-4" />
    <div class="dust dust-5" />
  </div>

  <!-- HUD-style corner decorations -->
  <div class="absolute top-20 left-6 z-[2] hidden lg:block opacity-30">
    <div class="border-l-2 border-t-2 border-accent/50 w-16 h-16" />
    <p class="text-[10px] text-accent/50 font-mono mt-1 tracking-widest">SEC:01</p>
  </div>
  <div class="absolute top-20 right-6 z-[2] hidden lg:block opacity-30">
    <div class="border-r-2 border-t-2 border-accent/50 w-16 h-16 ml-auto" />
    <p class="text-[10px] text-accent/50 font-mono mt-1 tracking-widest text-right">ZONE:SAFE</p>
  </div>

  <!-- Content -->
  <div class="relative z-10 max-w-5xl mx-auto px-4 text-center">
    <!-- Status badge (HUD-style) -->
    <HeroServerStatus client:load />

    <!-- Logo -->
    <img src="/images/logo.png" alt="Last Bullet DayZ" class="w-40 h-40 sm:w-52 sm:h-52 mx-auto mb-6 drop-shadow-[0_0_40px_rgba(232,121,29,0.35)] animate-fade-in" />

    <!-- Title -->
    <h1 class="text-5xl sm:text-7xl lg:text-8xl font-black tracking-tighter mb-4 animate-slide-up">
      <span class="text-gradient">LAST BULLET</span>
    </h1>

    <!-- Subtitle -->
    <p class="text-2xl sm:text-3xl font-light text-white/70 mb-6 animate-slide-up font-mono tracking-wide" style="animation-delay: 0.1s">
      Überlebe. Kämpfe. Herrsche.
    </p>

    <!-- Description -->
    <p class="text-lg text-white/40 max-w-2xl mx-auto mb-10 animate-slide-up" style="animation-delay: 0.2s">
      Erlebe DayZ auf einem neuen Level. Hardcore PvP, einzigartige Mods und eine aktive Community warten auf dich.
    </p>

    <!-- CTA -->
    <div class="flex flex-col sm:flex-row items-center justify-center gap-4 animate-slide-up" style="animation-delay: 0.3s">
      <Button variant="primary" size="lg" href="https://discord.gg/H52E8Qzmrd" external>
        Discord beitreten
      </Button>
      <Button variant="secondary" size="lg" href="/#features">
        Features
      </Button>
    </div>
  </div>

  <!-- Scroll indicator -->
  <div class="absolute bottom-8 left-1/2 -translate-x-1/2 animate-bounce z-10">
    <svg class="w-6 h-6 text-white/30" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 14l-7 7m0 0l-7-7m7 7V3" />
    </svg>
  </div>
</section>

<style>
  @keyframes fade-in {
    from { opacity: 0; }
    to { opacity: 1; }
  }

  @keyframes slide-up {
    from { opacity: 0; transform: translateY(30px); }
    to { opacity: 1; transform: translateY(0); }
  }

  .animate-fade-in {
    animation: fade-in 0.8s ease-out forwards;
  }

  .animate-slide-up {
    opacity: 0;
    animation: slide-up 0.8s ease-out forwards;
  }

  /* Dust particles */
  .dust {
    position: absolute;
    width: 2px;
    height: 2px;
    background: rgba(232, 121, 29, 0.4);
    border-radius: 50%;
    box-shadow: 0 0 6px rgba(232, 121, 29, 0.2);
  }

  .dust-1 { top: 15%; left: 20%; animation: drift 15s linear infinite; }
  .dust-2 { top: 50%; left: 80%; animation: drift 20s linear infinite 3s; }
  .dust-3 { top: 70%; left: 40%; animation: drift 18s linear infinite 7s; }
  .dust-4 { top: 30%; left: 60%; animation: drift 22s linear infinite 5s; }
  .dust-5 { top: 80%; left: 15%; animation: drift 16s linear infinite 10s; }

  @keyframes drift {
    0% { transform: translate(0, 0); opacity: 0; }
    10% { opacity: 0.6; }
    90% { opacity: 0.6; }
    100% { transform: translate(120px, -80px); opacity: 0; }
  }
</style>
