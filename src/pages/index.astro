---
import BaseLayout from '../layouts/BaseLayout.astro';
import Hero from '../components/Hero.astro';
import About from '../components/About.astro';
import Features from '../components/Features.astro';
import Monetization from '../components/Monetization.astro';
import Rules from '../components/Rules.astro';
import Contact from '../components/Contact.astro';
import ServerStatus from '../components/ServerStatus.tsx';
---

<BaseLayout title="LAST BULLET DayZ - Hardcore PvP Server">
  <Hero />
  <About />
  <Features />
  <Monetization />

  <!-- Server Status Section -->
  <section class="py-24 relative bg-surface/50">
    <div class="max-w-2xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-12">
        <p class="hud-label mb-3">// TELEMETRIE :: SEC.00</p>
        <h2 class="text-4xl sm:text-5xl font-bold mb-4">Server Status</h2>
        <div class="mil-divider mt-6">
          <span class="w-2 h-2 rotate-45 bg-accent" />
        </div>
      </div>
      <ServerStatus client:load />
    </div>
  </section>

  <Rules />
  <Contact />
</BaseLayout>

<script>
  // Scroll reveal animation
  const observer = new IntersectionObserver(
    (entries) => {
      entries.forEach((entry) => {
        if (entry.isIntersecting) {
          entry.target.classList.add('revealed');
          observer.unobserve(entry.target);
        }
      });
    },
    { threshold: 0.1 }
  );

  document.querySelectorAll('[data-scroll-reveal]').forEach((el) => {
    el.classList.add('scroll-reveal');
    observer.observe(el);
  });
</script>

<style>
  .scroll-reveal {
    opacity: 0;
    transform: translateY(20px);
    transition: opacity 0.6s ease-out, transform 0.6s ease-out;
  }

  .scroll-reveal.revealed {
    opacity: 1;
    transform: translateY(0);
  }
</style>
